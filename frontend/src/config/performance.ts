// Performance configuration for the application\nexport const PERFORMANCE_CONFIG = {\n  // Animation settings\n  animations: {\n    // Reduce animations on slower devices\n    respectReducedMotion: true,\n    \n    // Default transition durations (in seconds)\n    transitions: {\n      fast: 0.15,\n      normal: 0.25,\n      slow: 0.4,\n    },\n    \n    // Stagger delays for list animations\n    stagger: {\n      fast: 0.03,\n      normal: 0.05,\n      slow: 0.08,\n    },\n    \n    // Easing functions optimized for 60fps\n    easing: {\n      default: [0.4, 0, 0.2, 1],\n      bounce: [0.68, -0.55, 0.265, 1.55],\n      elastic: [0.25, 0.46, 0.45, 0.94],\n    },\n  },\n  \n  // Loading and caching\n  caching: {\n    // API cache TTL in milliseconds\n    apiCache: {\n      short: 2 * 60 * 1000,   // 2 minutes\n      medium: 5 * 60 * 1000,  // 5 minutes\n      long: 15 * 60 * 1000,   // 15 minutes\n    },\n    \n    // Image cache settings\n    images: {\n      quality: 85,\n      formats: ['webp', 'avif'],\n      sizes: '(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw',\n    },\n  },\n  \n  // Lazy loading thresholds\n  lazyLoading: {\n    rootMargin: '100px',\n    threshold: 0.1,\n    // Disable lazy loading for above-the-fold content\n    skipFirstN: 3,\n  },\n  \n  // Bundle optimization\n  bundling: {\n    // Code splitting thresholds\n    chunkSizeWarning: 500 * 1024, // 500KB\n    maxAsyncRequests: 30,\n    maxInitialRequests: 30,\n    \n    // Prefetch/preload settings\n    prefetchRoutes: [\n      '/student/dashboard',\n      '/teacher/dashboard',\n      '/parent/dashboard',\n    ],\n  },\n  \n  // Virtual scrolling for large lists\n  virtualScrolling: {\n    itemHeight: 100,\n    overscan: 5,\n    enableThreshold: 100, // Enable virtual scrolling for lists > 100 items\n  },\n  \n  // Performance monitoring\n  monitoring: {\n    enableInDev: true,\n    enableInProd: false,\n    \n    // FPS monitoring\n    fpsTarget: 60,\n    fpsWarningThreshold: 45,\n    \n    // Memory monitoring (MB)\n    memoryWarningThreshold: 100,\n    \n    // Network timing\n    slowNetworkThreshold: 3000, // 3 seconds\n  },\n  \n  // Device-specific optimizations\n  deviceOptimizations: {\n    // Reduce animations on lower-end devices\n    lowEndDevice: {\n      enableAnimations: false,\n      reducedAnimationDuration: 0.1,\n      disableParallax: true,\n    },\n    \n    // Touch device optimizations\n    touch: {\n      tapDelay: 0,\n      scrollDebounce: 16, // 60fps\n    },\n  },\n  \n  // Feature flags for performance\n  features: {\n    enableServiceWorker: true,\n    enableImageOptimization: true,\n    enableCodeSplitting: true,\n    enablePrefetching: true,\n    enableVirtualScrolling: true,\n    enableMemoryLeakDetection: false, // Enable in development\n  },\n};\n\n// Performance utilities\nexport const PerformanceUtils = {\n  // Check if device is low-end\n  isLowEndDevice(): boolean {\n    if (typeof navigator === 'undefined') return false;\n    \n    // Check for memory (if available)\n    const memory = (navigator as any).deviceMemory;\n    if (memory && memory <= 4) return true;\n    \n    // Check for slow connection\n    const connection = (navigator as any).connection;\n    if (connection && (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g')) {\n      return true;\n    }\n    \n    return false;\n  },\n  \n  // Check if user prefers reduced motion\n  prefersReducedMotion(): boolean {\n    if (typeof window === 'undefined') return false;\n    return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n  },\n  \n  // Get optimized animation duration\n  getAnimationDuration(type: 'fast' | 'normal' | 'slow' = 'normal'): number {\n    if (this.prefersReducedMotion()) return 0.01;\n    if (this.isLowEndDevice()) return PERFORMANCE_CONFIG.animations.transitions.fast;\n    return PERFORMANCE_CONFIG.animations.transitions[type];\n  },\n  \n  // Measure performance of a function\n  measure<T>(name: string, fn: () => T): T {\n    if (!PERFORMANCE_CONFIG.monitoring.enableInDev && process.env.NODE_ENV === 'development') {\n      return fn();\n    }\n    \n    const start = performance.now();\n    const result = fn();\n    const end = performance.now();\n    \n    if (end - start > 16) { // Longer than one frame at 60fps\n      console.warn(`Performance warning: ${name} took ${(end - start).toFixed(2)}ms`);\n    }\n    \n    return result;\n  },\n  \n  // Debounce function for performance\n  debounce<T extends (...args: any[]) => any>(\n    func: T,\n    wait: number,\n    immediate = false\n  ): (...args: Parameters<T>) => void {\n    let timeout: NodeJS.Timeout | null = null;\n    \n    return function executedFunction(...args: Parameters<T>) {\n      const later = function() {\n        timeout = null;\n        if (!immediate) func(...args);\n      };\n      \n      const callNow = immediate && !timeout;\n      \n      if (timeout) clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n      \n      if (callNow) func(...args);\n    };\n  },\n  \n  // Throttle function for performance\n  throttle<T extends (...args: any[]) => any>(\n    func: T,\n    limit: number\n  ): (...args: Parameters<T>) => void {\n    let inThrottle = false;\n    \n    return function(...args: Parameters<T>) {\n      if (!inThrottle) {\n        func.apply(this, args);\n        inThrottle = true;\n        setTimeout(() => inThrottle = false, limit);\n      }\n    };\n  },\n  \n  // Optimize images for current device\n  getOptimizedImageSrc(src: string, width?: number): string {\n    if (!src) return '';\n    \n    // If it's already a Cloudinary URL, add optimizations\n    if (src.includes('cloudinary.com')) {\n      const quality = this.isLowEndDevice() ? 'q_70' : 'q_85';\n      const format = 'f_auto';\n      const optimization = `${quality},${format}`;\n      \n      if (width) {\n        return src.replace('/upload/', `/upload/w_${width},${optimization}/`);\n      }\n      \n      return src.replace('/upload/', `/upload/${optimization}/`);\n    }\n    \n    return src;\n  },\n};\n\n// Performance monitoring hook\nexport function usePerformanceConfig() {\n  return {\n    config: PERFORMANCE_CONFIG,\n    utils: PerformanceUtils,\n    isLowEndDevice: PerformanceUtils.isLowEndDevice(),\n    prefersReducedMotion: PerformanceUtils.prefersReducedMotion(),\n  };\n}